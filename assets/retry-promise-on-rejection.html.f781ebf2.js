import{_ as i}from"./plugin-vue_export-helper.21dcd24c.js";import{r as a,c as u,b as t,w as s,a as e,F as l,e as p,d as n,o as d}from"./app.22a70bca.js";const m={},h=p('<h1 id="auto-retry-promise-on-rejection" tabindex="-1"><a class="header-anchor" href="#auto-retry-promise-on-rejection" aria-hidden="true">#</a> auto-retry Promise on rejection</h1><h2 id="question" tabindex="-1"><a class="header-anchor" href="#question" aria-hidden="true">#</a> Question</h2><p>For a web application, fetching API data is a common task.</p><p>But the API calls might fail because of Network problems. Usually we could show a screen for Network Error and ask users to retry.</p><p>One approach to handle this is <strong>auto retry when network error occurs</strong>.</p><p>You are asked to create a <code>fetchWithAutoRetry(fetcher, count)</code>, which automatically fetch again when error happens, until the maximum count is met.</p><p>For the problem here, there is no need to detect network error, you can just retry on all promise rejections.</p><h2 id="code" tabindex="-1"><a class="header-anchor" href="#code" aria-hidden="true">#</a> Code</h2>',8),k=e("div",{class:"language-javascript ext-js line-numbers-mode"},[e("pre",{class:"language-javascript"},[e("code",null,[e("span",{class:"token doc-comment comment"},[n(`/**
 * `),e("span",{class:"token keyword"},"@param"),n(),e("span",{class:"token class-name"},[e("span",{class:"token punctuation"},"{"),e("span",{class:"token punctuation"},"("),e("span",{class:"token punctuation"},")"),n(),e("span",{class:"token operator"},"=>"),n(" Promise"),e("span",{class:"token punctuation"},"<"),n("any"),e("span",{class:"token punctuation"},">"),e("span",{class:"token punctuation"},"}")]),n(),e("span",{class:"token parameter"},"fetcher"),n(`
 * `),e("span",{class:"token keyword"},"@param"),n(),e("span",{class:"token class-name"},[e("span",{class:"token punctuation"},"{"),n("number"),e("span",{class:"token punctuation"},"}")]),n(),e("span",{class:"token parameter"},"maximumRetryCount"),n(`
 * `),e("span",{class:"token keyword"},"@return"),n(),e("span",{class:"token class-name"},[e("span",{class:"token punctuation"},"{"),n("Promise"),e("span",{class:"token punctuation"},"<"),n("any"),e("span",{class:"token punctuation"},">"),e("span",{class:"token punctuation"},"}")]),n(`
 */`)]),n(`
`),e("span",{class:"token keyword"},"function"),n(),e("span",{class:"token function"},"fetchWithAutoRetry"),e("span",{class:"token punctuation"},"("),e("span",{class:"token parameter"},[n("fetcher"),e("span",{class:"token punctuation"},","),n(" maximumRetryCount")]),e("span",{class:"token punctuation"},")"),n(),e("span",{class:"token punctuation"},"{"),n(`
  `),e("span",{class:"token comment"},"// your code here"),n(`
`),e("span",{class:"token punctuation"},"}"),n(`
`)])]),e("div",{class:"line-numbers","aria-hidden":"true"},[e("div",{class:"line-number"}),e("div",{class:"line-number"}),e("div",{class:"line-number"}),e("div",{class:"line-number"}),e("div",{class:"line-number"}),e("div",{class:"line-number"}),e("div",{class:"line-number"}),e("div",{class:"line-number"})])],-1),_=e("h2",{id:"source",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#source","aria-hidden":"true"},"#"),n(" Source")],-1),f={href:"https://bigfrontend.dev/problem/retry-promise-on-rejection",target:"_blank",rel:"noopener noreferrer"},b=n("Source From");function y(v,w){const o=a("CodeGroupItem"),r=a("CodeGroup"),c=a("ExternalLinkIcon");return d(),u(l,null,[h,t(r,null,{default:s(()=>[t(o,{title:"javascript",active:""},{default:s(()=>[k]),_:1})]),_:1}),_,e("p",null,[e("a",f,[b,t(c)])])],64)}var j=i(m,[["render",y],["__file","retry-promise-on-rejection.html.vue"]]);export{j as default};
